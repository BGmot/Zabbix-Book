
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Patrik Uytterhoeven">
      
      
        <link rel="canonical" href="https://trikke76.github.io/Zabbix-Book/01-Getting%20started%20with%20Zabbix/">
      
      
        <link rel="prev" href="..">
      
      
        <link rel="next" href="../02-Starting%20with%20the%20basic%20configuration/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.9">
    
    
      
        <title>Getting started with Zabbix - Zabbix Book</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.78cf6014.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.356b1318.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:300,300i,400,400i,700,700i%7CIBM+Plex+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"IBM Plex Sans";--md-code-font:"IBM Plex Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="blue">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#getting-started-with-zabbix" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Zabbix Book" class="md-header__button md-logo" aria-label="Zabbix Book" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Zabbix Book
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Getting started with Zabbix
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/trikke76/Zabbix-Book" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    trikke76
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Zabbix Book" class="md-nav__button md-logo" aria-label="Zabbix Book" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Zabbix Book
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/trikke76/Zabbix-Book" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    trikke76
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Welcome
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Welcome
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Intro
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Chapters
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Chapters
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Getting started with Zabbix
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Getting started with Zabbix
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Requirements
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#basic-os-configuration-before-we-start" class="md-nav__link">
    <span class="md-ellipsis">
      Basic OS configuration before we start
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Basic OS configuration before we start">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#firewall" class="md-nav__link">
    <span class="md-ellipsis">
      firewall
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#timeserver" class="md-nav__link">
    <span class="md-ellipsis">
      timeserver
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-zabbix" class="md-nav__link">
    <span class="md-ellipsis">
      Installing Zabbix
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Installing Zabbix">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installing-zabbix-with-mariadb" class="md-nav__link">
    <span class="md-ellipsis">
      Installing Zabbix with MariaDB
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Installing Zabbix with MariaDB">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#add-the-mariadb-repo" class="md-nav__link">
    <span class="md-ellipsis">
      Add the MariaDB repo
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-the-mariadb-database" class="md-nav__link">
    <span class="md-ellipsis">
      Install the MariaDB database
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#securing-the-database" class="md-nav__link">
    <span class="md-ellipsis">
      Securing the database
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-the-zabbix-database" class="md-nav__link">
    <span class="md-ellipsis">
      Create the Zabbix database
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-the-zabbix-repository-and-populate-the-db" class="md-nav__link">
    <span class="md-ellipsis">
      Add the Zabbix repository and populate the DB
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-the-firewall" class="md-nav__link">
    <span class="md-ellipsis">
      Configure the firewall
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-the-zabbix-server" class="md-nav__link">
    <span class="md-ellipsis">
      Installing the Zabbix Server
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-zabbix-with-mysql" class="md-nav__link">
    <span class="md-ellipsis">
      Installing Zabbix with MySQL
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-zabbix-with-postgresql" class="md-nav__link">
    <span class="md-ellipsis">
      Installing Zabbix with PostgreSQL
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setting-up-zabbix-ha" class="md-nav__link">
    <span class="md-ellipsis">
      Setting up Zabbix HA
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../02-Starting%20with%20the%20basic%20configuration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    02 Starting with the basic configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../03-Detecting%20and%20managing%20problems/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    03 Detecting and managing problems
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../04-Taking%20action%20when%20problems%20come/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    04 Taking action when problems come
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../05-Managing%20Permissions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    05 Managing Permissions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../06-Visualising%20our%20problems/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    06 Visualising our problems
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../07-Automating%20configuration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    07 Automating configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../08-VMWare%20monitoring/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    08 VMWare monitoring
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../09-Monitoring%20websites/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    09 Monitoring websites
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../10-Monitoring%20SNMP%2CIPMI%20and%20JAVA/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    10 Monitoring SNMP,IPMI and JAVA
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../11-Monitoring%20with%20Proxies/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    11 Monitoring with Proxies
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../12-Securing%20Zabbix/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    12 Securing Zabbix
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../13-Maintaining%20Zabbix/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    13 Maintaining Zabbix
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../14-Monitoring%20Windows/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    14 Monitoring Windows
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../15-Zabbix%20API/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    15 Zabbix API
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Requirements
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#basic-os-configuration-before-we-start" class="md-nav__link">
    <span class="md-ellipsis">
      Basic OS configuration before we start
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Basic OS configuration before we start">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#firewall" class="md-nav__link">
    <span class="md-ellipsis">
      firewall
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#timeserver" class="md-nav__link">
    <span class="md-ellipsis">
      timeserver
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-zabbix" class="md-nav__link">
    <span class="md-ellipsis">
      Installing Zabbix
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Installing Zabbix">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installing-zabbix-with-mariadb" class="md-nav__link">
    <span class="md-ellipsis">
      Installing Zabbix with MariaDB
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Installing Zabbix with MariaDB">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#add-the-mariadb-repo" class="md-nav__link">
    <span class="md-ellipsis">
      Add the MariaDB repo
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-the-mariadb-database" class="md-nav__link">
    <span class="md-ellipsis">
      Install the MariaDB database
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#securing-the-database" class="md-nav__link">
    <span class="md-ellipsis">
      Securing the database
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-the-zabbix-database" class="md-nav__link">
    <span class="md-ellipsis">
      Create the Zabbix database
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-the-zabbix-repository-and-populate-the-db" class="md-nav__link">
    <span class="md-ellipsis">
      Add the Zabbix repository and populate the DB
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-the-firewall" class="md-nav__link">
    <span class="md-ellipsis">
      Configure the firewall
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-the-zabbix-server" class="md-nav__link">
    <span class="md-ellipsis">
      Installing the Zabbix Server
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-zabbix-with-mysql" class="md-nav__link">
    <span class="md-ellipsis">
      Installing Zabbix with MySQL
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-zabbix-with-postgresql" class="md-nav__link">
    <span class="md-ellipsis">
      Installing Zabbix with PostgreSQL
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setting-up-zabbix-ha" class="md-nav__link">
    <span class="md-ellipsis">
      Setting up Zabbix HA
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="getting-started-with-zabbix">Getting started with Zabbix<a class="headerlink" href="#getting-started-with-zabbix" title="Permanent link">&para;</a></h1>
<h2 id="requirements">Requirements<a class="headerlink" href="#requirements" title="Permanent link">&para;</a></h2>
<p>Zabbix has a set of requirements that need to be met on the hardware level and software level. These requirements can change over time and also depends on the size of your setup and the software you choose.
So before you start buying metal or installing a random database version have a look at the Zabbix documentation and check the latest requirements for the version you want to install. The latest requirements can be found <a href="https://www.zabbix.com/documentation/current/en/manual/installation/requirements">here</a>. Don't forget to select your correct <em>Zabbix</em> version from the list.</p>
<h2 id="basic-os-configuration-before-we-start">Basic OS configuration before we start<a class="headerlink" href="#basic-os-configuration-before-we-start" title="Permanent link">&para;</a></h2>
<h3 id="firewall">firewall<a class="headerlink" href="#firewall" title="Permanent link">&para;</a></h3>
<p>It's important for our Zabbix server to have an OS that is well prepared before we start to install our monitoring tool. First we need to make sure our firewall is installed. </p>
<p><code># dnf install firewalld --now</code></p>
<p>Our firewall is installed now, and we are ready to configure the needed ports. For our Zabbix server, we need to allow access to port 10051/tcp this is the port where our Zabbix trapper listens on for incoming data. So we need to open this port in our firewall to allow access to our Zabbix trapper.</p>
<p><code># firewall-cmd --add-service=Zabbix-server --permanent</code></p>
<p>or if the service is not known</p>
<p><code># firewall-cmd --add-port=10051/tcp --permanent</code></p>
<details class="note" open="open">
<summary>Note</summary>
<p>Firewalld is the replacement of iptables in Redhat and allows us to make changes available immediately without the need to restart a service. It's possible that your distribution is not using <a href="https://www.firewalld.org">Firewalld</a> in this case you have to look to the documentation of your OS.</p>
</details>
<h3 id="timeserver">timeserver<a class="headerlink" href="#timeserver" title="Permanent link">&para;</a></h3>
<p>Another thing we need to configure is the setup of timeserver and sync our Zabbix server to the timeserver by making use of an ntp client. This needs to be done for the Zabbix server but also for the devices we will monitor as time is very important for Zabbix. Imagine one of our hosts having a time zone that is wrong we could end up looking for a problem in Zabbix that happened 6h ago while it had happened maybe only 2h ago.</p>
<p><code># dnf install chronyd --now</code></p>
<p>Chrony should be installed now and enabled and running. This can be verified with the command:</p>
<p><code># systemctl status chronyd</code></p>
<details class="note" open="open">
<summary>Note</summary>
<p>dnf is a packagemanager from RedHat you need to replace dnf with your correct packagemanager like zyper, apt, yum, ... chrony is a replacement for ntpd and does a better job being faster and more accurate. If your OS does not support <a href="https://chrony-project.org/">chrony</a> then maybe ntpd is still available.</p>
</details>
<p>Once Chrony is installed we also need to setup our correct time zone. We can have a look first with 'timedatectl' to see how our time is configured </p>
<pre><code># timedatectl
               Local time: Thu 2023-11-16 15:09:14 UTC
           Universal time: Thu 2023-11-16 15:09:14 UTC
                 RTC time: Thu 2023-11-16 15:09:15
                Time zone: UTC (UTC, +0000)
System clock synchronized: yes
              NTP service: active
          RTC in local TZ: no
</code></pre>
<p>Make sure that the service cronyd is active, see above on how to do if you missed it.
We can choose the correct time zone from a list that we can lookup with the following command:</p>
<pre><code># timedatectl list-time zones
</code></pre>
<p>This will give us a list with all available time zones. Choose the one closest to you.</p>
<pre><code>Africa/Abidjan
Africa/Accra

...

Pacific/Tongatapu
Pacific/Wake
Pacific/Wallis
UTC
</code></pre>
<p>We can now configure our correct time zone with the following command:</p>
<pre><code>timedatectl set-time zone Europe/Brussels
</code></pre>
<p>When we look again we should see our time zone properly configured.</p>
<pre><code># timedatectl
               Local time: Thu 2023-11-16 16:13:35 CET
           Universal time: Thu 2023-11-16 15:13:35 UTC
                 RTC time: Thu 2023-11-16 15:13:36
                Time zone: Europe/Brussels (CET, +0100)
System clock synchronized: yes
              NTP service: active
          RTC in local TZ: no
</code></pre>
<details class="note" open="open">
<summary>Note</summary>
<p>Some people like to install all servers in the UTC time zone so that all server logs are in the same time zone when having servers all over the world. Zabbix supports user based time zone settings so it's possible to keep the time zone in UTC on the server and then add the correct time zone in the user interface if you like.</p>
</details>
<p>We can test if Chrony is syncronizing with the correct timeservers as well by running the command chronyc</p>
<pre><code># chronyc
chrony version 4.2
Copyright (C) 1997-2003, 2007, 2009-2021 Richard P. Curnow and others
chrony comes with ABSOLUTELY NO WARRANTY.  This is free software, and
you are welcome to redistribute it under certain conditions.  See the
GNU General Public License version 2 for details.

chronyc&gt;
</code></pre>
<p>Then we type <code>sources</code></p>
<pre><code>chronyc&gt; sources
MS Name/IP address         Stratum Poll Reach LastRx Last sample
===============================================================================
^- 51-15-20-83.rev.poneytel&gt;     2   9   377   354   +429us[ +429us] +/-  342ms
^- 5.255.99.180                  2  10   377   620  +7424us[+7424us] +/-   37ms
^- hachi.paina.net               2  10   377   412   +445us[ +445us] +/-   39ms
^* leontp1.office.panq.nl        1  10   377   904  +6806ns[ +171us] +/- 2336us
</code></pre>
<p>Here we can see that we are using a bunch of ntp servers that are not in our own country so we better swicht to some timeservers in our local country or if we have a timeserver in our company we could use this one. We can find some local timeservers here : <a href="https://www.ntpool.org">https://www.ntppool.org/</a></p>
<p>To change this we have to edit our config file "/etc/chrony.conf" and replace the existing ntp server with our local one </p>
<pre><code># Use public servers from the pool.ntp.org project.
# Please consider joining the pool (http://www.pool.ntp.org/join.html).
pool 2.centos.pool.ntp.org iburst
</code></pre>
<p>And change it to a local server:</p>
<pre><code># Use public servers from the pool.ntp.org project.
# Please consider joining the pool (http://www.pool.ntp.org/join.html).
pool be.pool.ntp.org iburst
</code></pre>
<p>Don't forget to restart the ntpd client of course.</p>
<pre><code># systemctl restart chronyd
</code></pre>
<p>When we look again we will see that we are now using our local timeservers.</p>
<pre><code>chronyc&gt; sources

MS Name/IP address         Stratum Poll Reach LastRx Last sample
===============================================================================
^- ntp1.unix-solutions.be        2   6    17    43   -375us[ -676us] +/-   28ms
^* ntp.devrandom.be              2   6    17    43   -579us[ -880us] +/- 2877us
^+ time.cloudflare.com           3   6    17    43   +328us[  +27us] +/- 2620us
^+ time.cloudflare.com           3   6    17    43   +218us[  -83us] +/- 2815us
</code></pre>
<h2 id="installing-zabbix">Installing Zabbix<a class="headerlink" href="#installing-zabbix" title="Permanent link">&para;</a></h2>
<p>Before we can install Zabbix we first have to know how the design is. The Zabbix server has been build op modular based on 3 components.</p>
<ul>
<li>The Zabbix server</li>
<li>The Zabbix web server</li>
<li>The Zabbix database</li>
</ul>
<p><img alt="Zabbix Server Setup" src="../CH01/zabbix-server.webp" /></p>
<p>All these components can be installed on 1 server or can be split over 3 different servers. 
The Zabbix server itself is the brain this part is doing all the trigger calculations and sending all the alert.
The database is where the Zabbix server stores its config and all the data that we have gathered.
The web server provides us with a front-end. Note that Zabbix has a API and that this is also located on the front-end and not on the Zabbix server side.</p>
<p>All these parts have to work together so as you can see in our image above. The Zabbix server needs to read the config and store the data in our database and the Zabbix front-end needs to be able to write the configuration in the database as well. The Zabbix front-end also needs to check the online status of our Zabbix server and needs to read some other information as well.</p>
<p>For our setup, we will use 2 VM's 1 VM with a Zabbix server and the Zabbix web server and another VM with the database.</p>
<h3 id="installing-zabbix-with-mariadb">Installing Zabbix with MariaDB<a class="headerlink" href="#installing-zabbix-with-mariadb" title="Permanent link">&para;</a></h3>
<p>Let us start with the installation of the MariaDB server, you need to create a MariaDB repository configuration file <code>mariadb.repo</code> manually in the following path <code>/etc/yum.repos.d/</code>.
To create a MariaDB repository file, you can use the following command.</p>
<h4 id="add-the-mariadb-repo">Add the MariaDB repo<a class="headerlink" href="#add-the-mariadb-repo" title="Permanent link">&para;</a></h4>
<pre><code>vi /etc/yum.repos.d/mariadb.repo
</code></pre>
<p>The above command will create a new repository file, Once it is created, you need to add the following configuration into the file.
Make sure your version in this case 10.11 is supported by Zabbix by looking at the latest <a href="https://www.zabbix.com/documentation/current/en/manual/installation/requirements">requirements</a> for your version. </p>
<pre><code># MariaDB 10.11 RedHatEnterpriseLinux repository list - created 2023-11-01 14:20 UTC
# https://mariadb.org/download/
[mariadb]
name = MariaDB
# rpm.mariadb.org is a dynamic mirror if your preferred mirror goes offline. See https://mariadb.org/mirrorbits/ for details.
# baseurl = https://rpm.mariadb.org/10.11/rhel/$releasever/$basearch
baseurl = https://mirror.23m.com/mariadb/yum/10.11/rhel/$releasever/$basearch
# gpgkey = https://rpm.mariadb.org/RPM-GPG-KEY-MariaDB
gpgkey = https://mirror.23m.com/mariadb/yum/RPM-GPG-KEY-MariaDB
gpgcheck = 1


</code></pre>
<p>Lets update our OS first with the latest patches</p>
<pre><code># dnf update -y
</code></pre>
<h4 id="install-the-mariadb-database">Install the MariaDB database<a class="headerlink" href="#install-the-mariadb-database" title="Permanent link">&para;</a></h4>
<p>Now we are ready to install our MariaDB database.</p>
<pre><code># dnf install MariaDB-server MariaDB-client
</code></pre>
<p>We are now ready to enable and start or MariaDB database.</p>
<pre><code># systemctl enable mariadb --now
</code></pre>
<p>Once the installation is complete, you can verify the version of the MariaDB server by using the following command:</p>
<pre><code># mysql -V
</code></pre>
<p>The output should look like this:</p>
<pre><code>mysql  Ver 15.1 Distrib 10.11.6-MariaDB, for Linux (x86_64) using  EditLine wrapper
</code></pre>
<p>And when we ask the status of our MariaDB server we should get an output like this:</p>
<pre><code># systemctl status mariadb

● mariadb.service - MariaDB 10.11.6 database server
     Loaded: loaded (/usr/lib/systemd/system/mariadb.service; enabled; preset: disabled)
    Drop-In: /etc/systemd/system/mariadb.service.d
             └─migrated-from-my.cnf-settings.conf
     Active: active (running) since Sat 2023-11-18 19:19:36 CET; 2min 13s ago
       Docs: man:mariadbd(8)
             https://mariadb.com/kb/en/library/systemd/
    Process: 41986 ExecStartPre=/bin/sh -c systemctl unset-environment _WSREP_START_POSITION (code=exited, status=0/SUCCESS)
    Process: 41987 ExecStartPre=/bin/sh -c [ ! -e /usr/bin/galera_recovery ] &amp;&amp; VAR= ||   VAR=`cd /usr/bin/..; /usr/bin/galera_recovery`; [ $? -eq 0 ]   &amp;&amp; systemctl set-environment _WSREP_START&gt;
    Process: 42006 ExecStartPost=/bin/sh -c systemctl unset-environment _WSREP_START_POSITION (code=exited, status=0/SUCCESS)
   Main PID: 41995 (mariadbd)
     Status: &quot;Taking your SQL requests now...&quot;
      Tasks: 9 (limit: 12344)
     Memory: 206.8M
        CPU: 187ms
</code></pre>
<h4 id="securing-the-database">Securing the database<a class="headerlink" href="#securing-the-database" title="Permanent link">&para;</a></h4>
<p>It's time to secure our database by removing the test database and user and set our own root password.  Run the command <code>mariadb-secure-installation</code>, you should get the following output.</p>
<pre><code># mariadb-secure-installation

NOTE: RUNNING ALL PARTS OF THIS SCRIPT IS RECOMMENDED FOR ALL MariaDB
      SERVERS IN PRODUCTION USE!  PLEASE READ EACH STEP CAREFULLY!

In order to log into MariaDB to secure it, we'll need the current
password for the root user. If you've just installed MariaDB, and
haven't set the root password yet, you should just press enter here.

Enter current password for root (enter for none):
OK, successfully used password, moving on...

Setting the root password or using the unix_socket ensures that nobody
can log into the MariaDB root user without the proper authorisation.

You already have your root account protected, so you can safely answer 'n'.

Switch to unix_socket authentication [Y/n] n
 ... skipping.

You already have your root account protected, so you can safely answer 'n'.

Change the root password? [Y/n] y
New password:
Re-enter new password:
Password updated successfully!
Reloading privilege tables..
 ... Success!


By default, a MariaDB installation has an anonymous user, allowing anyone
to log into MariaDB without having to have a user account created for
them.  This is intended only for testing, and to make the installation
go a bit smoother.  You should remove them before moving into a
production environment.

Remove anonymous users? [Y/n] y
 ... Success!

Normally, root should only be allowed to connect from 'localhost'.  This
ensures that someone cannot guess at the root password from the network.

Disallow root login remotely? [Y/n] y
 ... Success!

By default, MariaDB comes with a database named 'test' that anyone can
access.  This is also intended only for testing, and should be removed
before moving into a production environment.

Remove test database and access to it? [Y/n] y
 - Dropping test database...
 ... Success!
 - Removing privileges on test database...
 ... Success!

Reloading the privilege tables will ensure that all changes made so far
will take effect immediately.

Reload privilege tables now? [Y/n] y
 ... Success!

Cleaning up...

All done!  If you've completed all of the above steps, your MariaDB
installation should now be secure.

Thanks for using MariaDB!
</code></pre>
<h4 id="create-the-zabbix-database">Create the Zabbix database<a class="headerlink" href="#create-the-zabbix-database" title="Permanent link">&para;</a></h4>
<pre><code># mysql -uroot -p
password

MariaDB [(none)]&gt; create database zabbix character set utf8mb4 collate utf8mb4_bin;
MariaDB [(none)]&gt; grant all privileges on zabbix.* to 'zabbix-web'@'&lt;zabbix-server-ip&gt;' identified by '&lt;zabbix-web password&gt;';
MariaDB [(none)]&gt; grant all privileges on zabbix.* to 'zabbix-srv'@'&lt;zabbix-server-ip&gt;' identified by '&lt;zabbix-srv password&gt;';
MariaDB [(none)]&gt; grant all privileges on zabbix.* to 'zabbix-web'@'localhost' identified by '&lt;zabbix-web password&gt;';
MariaDB [(none)]&gt; grant all privileges on zabbix.* to 'zabbix-srv'@'localhost' identified by '&lt;zabbix-srv password&gt;';
MariaDB [(none)]&gt; set global log_bin_trust_function_creators = 1;
MariaDB [(none)]&gt; quit
</code></pre>
<details class="warning" open="open">
<summary>Warning</summary>
<p>The Zabbix documentation explicitly mentions that deterministic triggers need to be created during the import of schema. On MySQL and MariaDB, this requires GLOBAL log_bin_trust_function_creators = 1 to be set if binary logging is enabled and there is no superuser privileges and log_bin_trust_function_creators = 1 is not set in MySQL configuration file.</p>
</details>
<h4 id="add-the-zabbix-repository-and-populate-the-db">Add the Zabbix repository and populate the DB<a class="headerlink" href="#add-the-zabbix-repository-and-populate-the-db" title="Permanent link">&para;</a></h4>
<pre><code># rpm -Uvh https://repo.zabbix.com/zabbix/6.5/rocky/9/x86_64/zabbix-release-6.5-2.el9.noarch.rpm
# dnf clean all
# dnf install zabbix-sql-scripts
</code></pre>
<p>Upload the data from zabbix (db structure, images, user, ... )</p>
<pre><code># zcat /usr/share/zabbix-sql-scripts/mysql/server.sql.gz | mysql --default-character-set=utf8mb4 -uzabbix-srv -p zabbix
</code></pre>
<details class="warning" open="open">
<summary>Warning</summary>
<p>Depending on the speed of your hardware or VM this can take a few seconds upto a few minutes so please don't cancel just sit and wait for the prompt</p>
</details>
<p>Log back into your MariaDB Database as root</p>
<pre><code># mysql -uroot -p
</code></pre>
<p>Remove the global parameter again as its not needed anymore and also for security reasons.</p>
<pre><code>MariaDB [(none)]&gt; SET GLOBAL log_bin_trust_function_creators = 0;
Query OK, 0 rows affected (0.001 sec)
</code></pre>
<h4 id="configure-the-firewall">Configure the firewall<a class="headerlink" href="#configure-the-firewall" title="Permanent link">&para;</a></h4>
<p>One last thing we need to do is open the firewall and allow incoming connections for the MariaDB database from our Zabbix server because at the moment we dont accept any connections yet.</p>
<pre><code># firewall-cmd --list-all
public (active)
  target: default
  icmp-block-inversion: no
  interfaces: enp0s3 enp0s8
  sources:
  services: cockpit dhcpv6-client  ssh
  ports:
  protocols:
  forward: yes
  masquerade: no
  forward-ports:
  source-ports:
  icmp-blocks:
  rich rules:
</code></pre>
<p>First we will create an appropriate zone for our MariaDB and open port 3306/tcp but only for the ip from our Zabbix server.</p>
<pre><code># firewall-cmd --new-zone=mariadb-access --permanent
success

# firewall-cmd --reload
success

# firewall-cmd --get-zones
block dmz drop external home internal mariadb-access nm-shared public trusted work

# firewall-cmd --zone=mariadb-access --add-source=&lt;zabbix-serverip&gt; --permanent

success
# firewall-cmd --zone=mariadb-access --add-port=3306/tcp  --permanent

success
# firewall-cmd --reload
</code></pre>
<p>Now lets have a look to our firewall rules to see if they are what we expected:</p>
<pre><code># firewall-cmd --zone=mariadb-access --list-all
</code></pre>
<pre><code>mariadb-access (active)
  target: default
  icmp-block-inversion: no
  interfaces:
  sources: &lt;ip from zabbix-server&gt;
  services:
  ports: 3306/tcp
  protocols:
  forward: no
  masquerade: no
  forward-ports:
  source-ports:
  icmp-blocks:
  rich rules:
</code></pre>
<p>Our database server is ready now to accept connections from our Zabbix server :)</p>
<h4 id="installing-the-zabbix-server">Installing the Zabbix Server<a class="headerlink" href="#installing-the-zabbix-server" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code>5  rpm -Uvh https://repo.zabbix.com/zabbix/6.5/rocky/9/x86_64/zabbix-release-6.5-2.el9.noarch.rpm
6  dnf clean all
7  dnf install zabbix-server-mysql zabbix-web-mysql zabbix-nginx-conf zabbix-selinux-policy zabbix-agent
8  vi /etc/zabbix/zabbix_server.conf
9  setenforce 0
</code></pre></div>
<p>10  systemctl enable zabbix-server --now
   11  tail /var/log/zabbix/zabbix_server.log
   12  tail -f /var/log/zabbix/zabbix_server.log
   13  systemctl stop zabbix-server
   14  systemctl start zabbix-server
   15  tail -f /var/log/zabbix/zabbix_server.log</p>
<h3 id="installing-zabbix-with-mysql">Installing Zabbix with MySQL<a class="headerlink" href="#installing-zabbix-with-mysql" title="Permanent link">&para;</a></h3>
<p>ToDo</p>
<h3 id="installing-zabbix-with-postgresql">Installing Zabbix with PostgreSQL<a class="headerlink" href="#installing-zabbix-with-postgresql" title="Permanent link">&para;</a></h3>
<p>ToDo</p>
<h3 id="setting-up-zabbix-ha">Setting up Zabbix HA<a class="headerlink" href="#setting-up-zabbix-ha" title="Permanent link">&para;</a></h3>
<p>ToDo</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant", "navigation.expand"], "search": "../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.6c14ae12.min.js"></script>
      
    
  </body>
</html>